#{extends 'main.html' /}
#{set title:'Home' /}
    <style type="text/css">
      .span4 {
        padding-top: 20px;        
      }
    </style>	
<div class="container">   
	<div class="row">
		<div class="tabbable"> <!-- Only required for left/right tabs -->
		  <ul class="nav nav-tabs">
		    <li class="active">
		    	<a href="#tab1" data-toggle="tab">All Courses</a>
		    </li>
		    <li>
		    	<a href="#tab2" data-toggle="tab">Active Courses</a>
		    </li>
		    <li>
		    	<a href="#tab3" data-toggle="tab">Not Active Courses</a>
		    </li>
		  </ul>
			<div class="tab-content">
			    <div class="tab-pane active" id="tab1">					     			    
			  		<table class="table table-striped table-bordered table-hover">
						<thead>
						    <tr>
						    	  <th>№</th>	
							      <th>Course title</th>
							      <th>Owner</th>
							      <th>Delete</th>
							      <th>Active/Not Active</th>
							      <th>Message</th>
						    </tr>
						</thead>
					  	<tbody>
					  		#{list items:allCourses, as:'i'}
					    	<tr>
					    		<td>
							    	<input type="checkbox">  	
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.myOwnCourse(i.id)}">${i.name}</a>  	
						      	</td>						      							      	 
						      	<td>
							      	#{if i.user.username && i.user.username.length()>0}
				            			${i.user.username}
					            	#{/if}
					            	#{else}
					            		${i.user.email}
					            	#{/else} 
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.deleteCourse(i.id)}">delete</a>  	
						      	</td>
						      	<td>
							    	${i.isActive}
							    	#{if !isActive}
							    		<a href="@{MyOwnCourse.activateCourse(i.id)}">Activate</a>
							    	#{/if}  	
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.sendMessageToCourseOwner(i.id,i.user.email,i.user.username)}">Send</a>  	
						      	</td>
					    	</tr>
					    	#{/list}
					  	</tbody>
					</table>	
					<a href="#">Delete selected</a>					
			    </div>			    
			    <div class="tab-pane" id="tab2">			    	
					<table class="table table-striped table-bordered table-hover">
						<thead>
						    <tr>
						    	  <th>№</th>
							      <th>Course title</th>
							      <th>Owner</th>
							      <th>Delete</th>
							      <th>Deactivate</th>
							      <th>Message</th>
						    </tr>
						</thead>
					  	<tbody>
					  		#{list items:activeCourses, as:'i'}
					    	<tr>
					    		<td>
							    	<input type="checkbox">  	
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.myOwnCourse(i.id)}">${i.name}</a>  	
						      	</td>
						      	<td>
							      	#{if i.user.username && i.user.username.length()>0}
				            			${i.user.username}
					            	#{/if}
					            	#{else}
					            		${i.user.email}
					            	#{/else} 
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.deleteCourse(i.id)}">delete</a>  	
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.deactivateCourse(i.id)}">Deactivate</a>							    	
						      	</td>
						      	<td>
						      		<a href="@{MyOwnCourse.sendMessageToCourseOwner(i.id,i.user.email,i.user.username)}">Send</a>
							    </td>
					    	</tr>
					    	#{/list}
					  	</tbody>
					</table>	
					<a href="#">Delete selected</a>		
			    </div>
			    <div class="tab-pane" id="tab3">
					<table class="table table-striped table-bordered table-hover">
						<thead>
						    <tr>
						    	  <th>№</th>
							      <th>Course title</th>
							      <th>Owner</th>
							      <th>Delete</th>	
							      <th>Activate</th>						      
							      <th>Message</th>
						    </tr>
						</thead>
					  	<tbody>
					  		#{list items:notActiveCourses, as:'i'}
					    	<tr>
					    		<td>
							    	<input type="checkbox">  	
						      	</td>						      	
						      	<td>
							    	<a href="@{MyOwnCourse.myOwnCourse(i.id)}">${i.name}</a>  	
						      	</td>
						      	<td>
							      	#{if i.user.username && i.user.username.length()>0}
				            			${i.user.username}
					            	#{/if}
					            	#{else}
					            		${i.user.email}
					            	#{/else} 
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.deleteCourse(i.id)}">delete</a>  	
						      	</td>
						      	<td>
							    	<a href="@{MyOwnCourse.activateCourse(i.id)}">Activate</a>							    	
						      	</td>
						      	<td>						      	
							    	 <a href="@{MyOwnCourse.sendMessageToCourseOwner(i.id,i.user.email,i.user.username)}">Send</a>
						      	</td>
					    	</tr>
					    	#{/list}
					  	</tbody>
					</table>
			    </div>
			</div>
		</div>
	</div>						
</div>